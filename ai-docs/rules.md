# ü§ñ –ü–†–ê–í–ò–õ–ê –î–õ–Ø –ò–ò-–ê–°–°–ò–°–¢–ï–ù–¢–û–í –ü–†–û–ï–ö–¢–ê "–ü–†–ê–ö–†–ò–¢–ò"

## üö® –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û!

**–≠—Ç–∏ –ø—Ä–∞–≤–∏–ª–∞ –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–´ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è. –ù–∞—Ä—É—à–µ–Ω–∏–µ = –ø—Ä–æ–≤–∞–ª –ò–ò-—Å–µ—Å—Å–∏–∏!**

---

## üìã –ü–ï–†–ï–î –ù–ê–ß–ê–õ–û–ú –ö–ê–ñ–î–û–ô –°–ï–°–°–ò–ò

### 1. –ü–†–û–ß–ò–¢–ê–¢–¨ –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û:
- `/ARCHITECTURE.md` - –æ—Å–Ω–æ–≤–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- `/ai-docs/rules.md` - —ç—Ç–æ—Ç —Ñ–∞–π–ª
- –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π —à–∞–±–ª–æ–Ω –∏–∑ `/ai-docs/session-templates/`

### 2. –ü–†–û–í–ï–†–ò–¢–¨ –ö–û–ù–¢–ï–ö–°–¢:
- –í –∫–∞–∫–æ–π —á–∞—Å—Ç–∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã —Ä–∞–±–æ—Ç–∞–µ–º?
- –ö–∞–∫–∏–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã –∑–∞—Ç—Ä–∞–≥–∏–≤–∞–µ–º?
- –ï—Å—Ç—å –ª–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –¥—Ä—É–≥–∏—Ö –º–æ–¥—É–ª–µ–π?

### 3. –ü–û–î–¢–í–ï–†–î–ò–¢–¨ –ü–õ–ê–ù:
- –û–ø–∏—Å–∞—Ç—å —á—Ç–æ –±—É–¥–µ–º –¥–µ–ª–∞—Ç—å
- –£–∫–∞–∑–∞—Ç—å –∑–∞—Ç—Ä–∞–≥–∏–≤–∞–µ–º—ã–µ —Ñ–∞–π–ª—ã
- –£–±–µ–¥–∏—Ç—å—Å—è –≤ —Å–æ–±–ª—é–¥–µ–Ω–∏–∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

---

## üéØ –ê–¢–û–ú–ê–†–ù–û–°–¢–¨ –°–ï–°–°–ò–ô

### –û–î–ù–ê –°–ï–°–°–ò–Ø = –û–î–ù–ê –§–ò–ß–ê
‚úÖ **–•–æ—Ä–æ—à–æ:**
- "–°–æ–∑–¥–∞—Ç—å ClientService —Å –º–µ—Ç–æ–¥–∞–º–∏ CRUD"
- "–î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –≤ –∞–Ω–∫–µ—Ç—É –±–æ—Ç–∞"
- "–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø–æ–∏—Å–∫–∞ –∫–ª–∏–µ–Ω—Ç–æ–≤"

‚ùå **–ü–ª–æ—Ö–æ:**
- "–°–¥–µ–ª–∞—Ç—å –±–æ—Ç–∞ –∏ –∞–¥–º–∏–Ω–∫—É"
- "–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∏ API"
- "–ò—Å–ø—Ä–∞–≤–∏—Ç—å –≤—Å–µ –±–∞–≥–∏"

### –§–ò–ß–ê –î–û–õ–ñ–ù–ê –ë–´–¢–¨ –ó–ê–í–ï–†–®–ï–ù–ù–û–ô:
- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥
- –¢–µ—Å—Ç—ã
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (docstrings)
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

---

## üèóÔ∏è –ê–†–•–ò–¢–ï–ö–¢–£–†–ù–´–ï –û–ì–†–ê–ù–ò–ß–ï–ù–ò–Ø

### üö´ –ó–ê–ü–†–ï–©–ï–ù–û –°–û–ó–î–ê–í–ê–¢–¨:

#### Backend:
- –ü—Ä—è–º—ã–µ –∏–º–ø–æ—Ä—Ç—ã –º–µ–∂–¥—É —Å–ª–æ—è–º–∏ (—Ç–æ–ª—å–∫–æ —Å–æ—Å–µ–¥–Ω–∏–µ!)
- –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
- –°–∏–Ω–≥–ª—Ç–æ–Ω—ã (–∫—Ä–æ–º–µ –∫–æ–Ω—Ñ–∏–≥–∞)
- Monkey patching
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –∏–º–ø–æ—Ä—Ç—ã

#### Frontend:
- –ü—Ä—è–º—ã–µ API –≤—ã–∑–æ–≤—ã –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö
- –ì–ª–æ–±–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (–∫—Ä–æ–º–µ Context)
- Inline —Å—Ç–∏–ª–∏
- Magic strings –¥–ª—è URL/paths
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã >300 —Å—Ç—Ä–æ–∫

### ‚úÖ –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û:

#### Backend:
```python
# ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ - —á–µ—Ä–µ–∑ —Å–µ—Ä–≤–∏—Å–Ω—ã–π —Å–ª–æ–π
class TelegramHandler:
    def __init__(self, client_service: ClientService):
        self.client_service = client_service

# ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ - –ø—Ä—è–º–æ–π –∏–º–ø–æ—Ä—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
from repositories.google_sheets import GoogleSheetsRepo
```

#### Frontend:
```typescript
// ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ - —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ props
interface ClientCardProps {
  client: Client;
  onEdit: (id: string) => void;
}

// ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ - any —Ç–∏–ø—ã
const ClientCard = (props: any) => { ... }
```

---

## üìù –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–´–ï –®–ê–ë–õ–û–ù–´ –ö–û–î–ê

### Backend Service:
```python
from abc import ABC, abstractmethod
from typing import Optional, List
from ..models.client import Client, ClientCreateData
from ..utils.logger import get_logger

logger = get_logger(__name__)

class ClientServiceProtocol(ABC):
    @abstractmethod
    async def create_client(self, data: ClientCreateData) -> Client: ...

class ClientService(ClientServiceProtocol):
    def __init__(self, repository: ClientRepositoryProtocol):
        self.repository = repository
    
    async def create_client(self, data: ClientCreateData) -> Client:
        """–°–æ–∑–¥–∞–µ—Ç –Ω–æ–≤–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞ –ø–æ—Å–ª–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏."""
        logger.info(f"Creating client: {data.phone}")
        
        try:
            # –í–∞–ª–∏–¥–∞—Ü–∏—è
            self._validate_client_data(data)
            
            # –°–æ–∑–¥–∞–Ω–∏–µ
            client = await self.repository.save_client(data)
            
            logger.info(f"Client created: {client.id}")
            return client
            
        except ValidationError as e:
            logger.error(f"Validation failed: {e}")
            raise
        except Exception as e:
            logger.critical(f"Unexpected error creating client: {e}")
            raise IntegrationError("Failed to create client")
    
    def _validate_client_data(self, data: ClientCreateData) -> None:
        """–í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–∞."""
        if not data.phone or len(data.phone) < 10:
            raise ValidationError("Invalid phone number")
```

### Frontend Component:
```typescript
import React from 'react';
import { Client } from '../../types/client';
import { useClientActions } from '../../hooks/useClientActions';
import './ClientCard.styles.css';

interface ClientCardProps {
  client: Client;
  onEdit?: (clientId: string) => void;
  onDelete?: (clientId: string) => void;
}

export const ClientCard: React.FC<ClientCardProps> = ({
  client,
  onEdit,
  onDelete,
}) => {
  const { deleteClient, isLoading } = useClientActions();

  const handleDelete = async () => {
    if (window.confirm('–£–¥–∞–ª–∏—Ç—å –∫–ª–∏–µ–Ω—Ç–∞?')) {
      await deleteClient(client.id);
      onDelete?.(client.id);
    }
  };

  return (
    <div className="client-card" data-testid="client-card">
      <h3>{client.name}</h3>
      <p>{client.phone}</p>
      {/* –û—Å—Ç–∞–ª—å–Ω–æ–π JSX */}
    </div>
  );
};
```

---

## üß™ –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û–ï –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï

### Backend —Ç–µ—Å—Ç:
```python
import pytest
from unittest.mock import Mock, AsyncMock
from src.services.client_service import ClientService
from src.models.client import ClientCreateData, Client

class TestClientService:
    def setup_method(self):
        self.mock_repo = Mock()
        self.service = ClientService(self.mock_repo)
    
    async def test_create_client_success(self):
        # Arrange
        client_data = ClientCreateData(
            name="–¢–µ—Å—Ç –ö–ª–∏–µ–Ω—Ç",
            phone="+79991234567"
        )
        expected_client = Client(id="123", **client_data.__dict__)
        self.mock_repo.save_client = AsyncMock(return_value=expected_client)
        
        # Act
        result = await self.service.create_client(client_data)
        
        # Assert
        assert result.name == client_data.name
        assert result.phone == client_data.phone
        self.mock_repo.save_client.assert_called_once_with(client_data)
```

### Frontend —Ç–µ—Å—Ç:
```typescript
import { render, screen, fireEvent } from '@testing-library/react';
import { ClientCard } from './ClientCard';
import { mockClient } from '../../test-utils/mocks';

describe('ClientCard', () => {
  it('–æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–ª–∏–µ–Ω—Ç–µ', () => {
    render(<ClientCard client={mockClient} />);
    
    expect(screen.getByText(mockClient.name)).toBeInTheDocument();
    expect(screen.getByText(mockClient.phone)).toBeInTheDocument();
  });

  it('–≤—ã–∑—ã–≤–∞–µ—Ç onEdit –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –∫–Ω–æ–ø–∫—É —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è', () => {
    const mockOnEdit = jest.fn();
    render(<ClientCard client={mockClient} onEdit={mockOnEdit} />);
    
    fireEvent.click(screen.getByTestId('edit-button'));
    
    expect(mockOnEdit).toHaveBeenCalledWith(mockClient.id);
  });
});
```

---

## üìä –õ–û–ì–ò–†–û–í–ê–ù–ò–ï

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è:
- –ù–∞—á–∞–ª–æ/–∫–æ–Ω–µ—Ü –æ–ø–µ—Ä–∞—Ü–∏–π
- –û—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏  
- –í–Ω–µ—à–Ω–∏–µ API –≤—ã–∑–æ–≤—ã
- –ò–∑–º–µ–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –¥–µ–π—Å—Ç–≤–∏—è

### –§–æ—Ä–º–∞—Ç:
```python
logger.info(f"Starting operation: {operation_name}", extra={
    "user_id": user_id,
    "operation": operation_name,
    "params": sanitized_params
})
```

---

## üîß –ü–ï–†–ï–ú–ï–ù–ù–´–ï –û–ö–†–£–ñ–ï–ù–ò–Ø

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞:
```python
import os

def get_required_env(key: str) -> str:
    """–ü–æ–ª—É—á–∞–µ—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è."""
    value = os.getenv(key)
    if not value:
        raise EnvironmentError(f"Required environment variable {key} not set")
    return value

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
TELEGRAM_BOT_TOKEN = get_required_env("TELEGRAM_BOT_TOKEN")
```

---

## üé® –°–¢–ò–õ–ò–ó–ê–¶–ò–Ø –ò UI

### CSS Modules –∏–ª–∏ Styled Components:
```typescript
// ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ
import styles from './ClientCard.module.css';

// ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ  
<div style={{color: 'red', margin: '10px'}}>
```

### Responsive Design:
- Mobile First –ø–æ–¥—Ö–æ–¥
- Breakpoints: 320px, 768px, 1024px, 1440px
- Flexbox/Grid –¥–ª—è layouts

---

## üö® –°–ò–°–¢–ï–ú–ê –ü–†–û–í–ï–†–û–ö

### –ü–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û:
1. ‚úÖ –ö–æ–¥ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ
2. ‚úÖ –¢–µ—Å—Ç—ã –Ω–∞–ø–∏—Å–∞–Ω—ã –∏ –ø—Ä–æ—Ö–æ–¥—è—Ç
3. ‚úÖ –ù–µ—Ç ESLint/PyLint –æ—à–∏–±–æ–∫
4. ‚úÖ Docstrings –¥–æ–±–∞–≤–ª–µ–Ω—ã
5. ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ
6. ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏:
```bash
# Backend
black src/
flake8 src/
mypy src/
pytest tests/

# Frontend  
npm run lint
npm run type-check
npm run test
npm run build
```

---

## üéØ –ß–ï–ö–õ–ò–°–¢ –ó–ê–í–ï–†–®–ï–ù–ò–Ø –°–ï–°–°–ò–ò

### ‚úÖ –ü–µ—Ä–µ–¥ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ–º –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:
- [ ] –§–∏—á–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞
- [ ] –¢–µ—Å—Ç—ã –Ω–∞–ø–∏—Å–∞–Ω—ã –∏ –ø—Ä–æ—Ö–æ–¥—è—Ç
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞
- [ ] –ù–µ—Ç –Ω–∞—Ä—É—à–µ–Ω–∏–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
- [ ] –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –µ—Å—Ç—å
- [ ] –ö–æ–¥ –æ—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω
- [ ] –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã

### ‚úÖ –§–∏–Ω–∞–ª—å–Ω—ã–π –∫–æ–º–º–∏—Ç:
```bash
git add .
git commit -m "feat(module): –∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ñ–∏—á–∏

- –î–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- –î–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
- –û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è"
```

---

## üö´ –ö–†–ê–°–ù–´–ï –§–õ–ê–ì–ò

**–°–¢–û–ü! –ù–ï –ö–û–ú–ú–ò–¢–¨, –µ—Å–ª–∏:**
- ‚ùå –ï—Å—Ç—å TODO/FIXME –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
- ‚ùå –¢–µ—Å—Ç—ã –Ω–µ –ø—Ä–æ—Ö–æ–¥—è—Ç
- ‚ùå –ï—Å—Ç—å console.log/print –æ—Ç–ª–∞–¥–∫–∞
- ‚ùå –•–∞—Ä–¥–∫–æ–¥ –∑–Ω–∞—á–µ–Ω–∏—è
- ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- ‚ùå –ù–µ—Ç —Ç–∏–ø–∏–∑–∞—Ü–∏–∏
- ‚ùå –ù–∞—Ä—É—à–µ–Ω–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

---

**–ü–û–ú–ù–ò: –õ—É—á—à–µ —Å–¥–µ–ª–∞—Ç—å –º–∞–ª–µ–Ω—å–∫—É—é —Ñ–∏—á—É –∏–¥–µ–∞–ª—å–Ω–æ, —á–µ–º –±–æ–ª—å—à—É—é –∫—Ä–∏–≤–æ!** 